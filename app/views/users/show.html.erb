<% content_for :hide_navbar, true %>

<div class="profile-page container">

  <div class="profile-sprite-outer">
    <div class="profile-sprite-holder">
      <%= image_tag "character-sprites/Samurai/player_character.png", class: "profile-sprite" %>
    </div>
  </div>

  <div class="card profile-card">
    <div class="profile-stats">
      <div class="stat-box">
        <span class="stat-value"><%= @levels_cleared %></span>
        <span class="stat-label">Levels<br>Cleared</span>
      </div>

      <div class="stat-box">
        <span class="stat-value"><%= @avg_perc_correct %>%</span>
        <span class="stat-label">Question<br>Accuracy</span>
      </div>

      <div class="stat-box">
        <span class="stat-value"><%= @days_streak %></span>
        <span class="stat-label">Day<br>Streak</span>
      </div>
    </div>
  </div>

  <div class="card profile-card">
    <div class="difficulty">
      <label for="jlpt-level">Difficulty</label>
      <%= select_tag :difficulty,
        options_for_select([["N1", "N1"], ["N2", "N2"], ["N3", "N3"]], @user.japanese_difficulty),
        class: "form-select" %>
    </div>
  </div>

  <div class="card profile-card">
    <div id="leaderboard-global">
    <% @top_5_global.each_with_index do |user, index| %>
        <div>
            <div><%= index + 1 %>.</div>
            <%# image_tag user.character_sprite %>
            <div><%= user.character_name %></div>
            <div>LVL <%= user.level %></div>
        </div>
      <% end %>
    </div>
  </div>


</div>

<%= render 'shared/bottom_navbar' %>
